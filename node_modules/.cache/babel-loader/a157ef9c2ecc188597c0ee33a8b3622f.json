{"ast":null,"code":"import React,{useState,useEffect,lazy,Suspense}from\"react\";import ApolloClient,{gql}from\"apollo-boost\";import{openSource}from\"../../portfolio\";import Contact from\"../contact/Contact\";import Loading from\"../loading/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";const renderLoader=()=>/*#__PURE__*/_jsx(Loading,{});const GithubProfileCard=/*#__PURE__*/lazy(()=>import('../../components/githubProfileCard/GithubProfileCard'));export default function Profile(){const[prof,setrepo]=useState([]);function setProfileFunction(array){setrepo(array);}function getProfileData(){const client=new ApolloClient({uri:\"https://api.github.com/graphql\",request:operation=>{operation.setContext({headers:{authorization:`Bearer ${openSource.githubConvertedToken}`}});}});client.query({query:gql`\n      {\n        user(login:\"${openSource.githubUserName}\") { \n          name\n          bio\n          isHireable\n          avatarUrl\n          location\n        }\n    }\n      `}).then(result=>{setProfileFunction(result.data.user);}).catch(function(error){console.log(error);setProfileFunction(\"Error\");console.log(\"Because of this Error Contact Section is Showed instead of Profile\");openSource.showGithubProfile=\"false\";});}useEffect(()=>{if(openSource.showGithubProfile===\"true\"){getProfileData();}},[]);if(openSource.showGithubProfile===\"true\"&&!(typeof prof==='string'||prof instanceof String)){return/*#__PURE__*/_jsx(Suspense,{fallback:renderLoader(),children:/*#__PURE__*/_jsx(GithubProfileCard,{prof:prof},prof.id)});}else{return/*#__PURE__*/_jsx(Contact,{});}}","map":{"version":3,"names":["React","useState","useEffect","lazy","Suspense","ApolloClient","gql","openSource","Contact","Loading","jsx","_jsx","renderLoader","GithubProfileCard","Profile","prof","setrepo","setProfileFunction","array","getProfileData","client","uri","request","operation","setContext","headers","authorization","githubConvertedToken","query","githubUserName","then","result","data","user","catch","error","console","log","showGithubProfile","String","fallback","children","id"],"sources":["/Users/shubhankar.mathur/Documents/Code/personal/iamshubhankar/src/containers/profile/Profile.js"],"sourcesContent":["import React, { useState, useEffect ,lazy, Suspense } from \"react\";\nimport ApolloClient, { gql } from \"apollo-boost\";\nimport { openSource } from \"../../portfolio\";\nimport Contact from \"../contact/Contact\";\nimport Loading from \"../loading/Loading\";\n\nconst renderLoader = () => <Loading />;\nconst GithubProfileCard = lazy(() => import('../../components/githubProfileCard/GithubProfileCard'));\nexport default function Profile() {\n  const [prof, setrepo] = useState([]);\n  function setProfileFunction(array) {\n    setrepo(array);\n  }\n  function getProfileData() {\n    const client = new ApolloClient({\n      uri: \"https://api.github.com/graphql\",\n      request: (operation) => {\n        operation.setContext({\n          headers: {\n            authorization: `Bearer ${openSource.githubConvertedToken}`,\n          },\n        });\n      },\n    });\n\n    client\n      .query({\n        query: gql`\n      {\n        user(login:\"${openSource.githubUserName}\") { \n          name\n          bio\n          isHireable\n          avatarUrl\n          location\n        }\n    }\n      `,\n      })\n      .then((result) => {\n        setProfileFunction(result.data.user);\n      })\n      .catch(function (error) {\n          console.log(error);\n          setProfileFunction(\"Error\");\n          console.log(\"Because of this Error Contact Section is Showed instead of Profile\");\n          openSource.showGithubProfile = \"false\";\n      });\n  }\n  useEffect(() => {\n    if (openSource.showGithubProfile === \"true\") {\n      getProfileData();\n    }\n  }, []);\nif (openSource.showGithubProfile === \"true\" && !(typeof prof === 'string' || prof instanceof String)){  \n    return (\n      <Suspense fallback={renderLoader()}>\n        <GithubProfileCard prof={prof} key={prof.id} /> \n      </Suspense>\n       );\n  } else {\n    return <Contact />;\n  }\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,IAAI,CAAEC,QAAQ,KAAQ,OAAO,CAClE,MAAO,CAAAC,YAAY,EAAIC,GAAG,KAAQ,cAAc,CAChD,OAASC,UAAU,KAAQ,iBAAiB,CAC5C,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzC,KAAM,CAAAC,YAAY,CAAGA,CAAA,gBAAMD,IAAA,CAACF,OAAO,GAAE,CAAC,CACtC,KAAM,CAAAI,iBAAiB,cAAGV,IAAI,CAAC,IAAM,MAAM,CAAC,sDAAsD,CAAC,CAAC,CACpG,cAAe,SAAS,CAAAW,OAAOA,CAAA,CAAG,CAChC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACpC,QAAS,CAAAgB,kBAAkBA,CAACC,KAAK,CAAE,CACjCF,OAAO,CAACE,KAAK,CAAC,CAChB,CACA,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAf,YAAY,CAAC,CAC9BgB,GAAG,CAAE,gCAAgC,CACrCC,OAAO,CAAGC,SAAS,EAAK,CACtBA,SAAS,CAACC,UAAU,CAAC,CACnBC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUnB,UAAU,CAACoB,oBAAoB,EAC1D,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAEFP,MAAM,CACHQ,KAAK,CAAC,CACLA,KAAK,CAAEtB,GAAG;AAClB;AACA,sBAAsBC,UAAU,CAACsB,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OACM,CAAC,CAAC,CACDC,IAAI,CAAEC,MAAM,EAAK,CAChBd,kBAAkB,CAACc,MAAM,CAACC,IAAI,CAACC,IAAI,CAAC,CACtC,CAAC,CAAC,CACDC,KAAK,CAAC,SAAUC,KAAK,CAAE,CACpBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAClBlB,kBAAkB,CAAC,OAAO,CAAC,CAC3BmB,OAAO,CAACC,GAAG,CAAC,oEAAoE,CAAC,CACjF9B,UAAU,CAAC+B,iBAAiB,CAAG,OAAO,CAC1C,CAAC,CAAC,CACN,CACApC,SAAS,CAAC,IAAM,CACd,GAAIK,UAAU,CAAC+B,iBAAiB,GAAK,MAAM,CAAE,CAC3CnB,cAAc,CAAC,CAAC,CAClB,CACF,CAAC,CAAE,EAAE,CAAC,CACR,GAAIZ,UAAU,CAAC+B,iBAAiB,GAAK,MAAM,EAAI,EAAE,MAAO,CAAAvB,IAAI,GAAK,QAAQ,EAAIA,IAAI,WAAY,CAAAwB,MAAM,CAAC,CAAC,CACjG,mBACE5B,IAAA,CAACP,QAAQ,EAACoC,QAAQ,CAAE5B,YAAY,CAAC,CAAE,CAAA6B,QAAA,cACjC9B,IAAA,CAACE,iBAAiB,EAACE,IAAI,CAAEA,IAAK,EAAMA,IAAI,CAAC2B,EAAK,CAAC,CACvC,CAAC,CAEf,CAAC,IAAM,CACL,mBAAO/B,IAAA,CAACH,OAAO,GAAE,CAAC,CACpB,CACF","ignoreList":[]},"metadata":{},"sourceType":"module"}